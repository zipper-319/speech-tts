{
  "swagger": "2.0",
  "info": {
    "title": "tts/v2/tts.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "CloudMindsTTS"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/speech/tts/get-user-speakers": {
      "get": {
        "summary": "获取指定用户发音人信息",
        "operationId": "CloudMindsTTS_GetUserSpeakers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ttsschemaGetUserSpeakersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "trace_id",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "user",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "CloudMindsTTS"
        ]
      }
    },
    "/speech/tts/getConfig": {
      "get": {
        "summary": "获取服务端配置信息",
        "operationId": "CloudMindsTTS_GetTtsConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ttsschemaRespGetTtsConfig"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "CloudMindsTTS"
        ]
      }
    },
    "/speech/tts/getVersion": {
      "get": {
        "summary": "获取服务版本信息",
        "operationId": "CloudMindsTTS_GetVersion",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ttsschemaVerVersionRsp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "CloudMindsTTS"
        ]
      }
    },
    "/speech/tts/register": {
      "post": {
        "operationId": "CloudMindsTTS_Register",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ttsschemaRegisterResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ttsschemaRegisterReq"
            }
          }
        ],
        "tags": [
          "CloudMindsTTS"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "ttsschemaActionElement": {
      "type": "object",
      "properties": {
        "action_type": {
          "type": "integer",
          "format": "int32"
        },
        "url": {
          "type": "string"
        },
        "operation_type": {
          "type": "integer",
          "format": "int32"
        },
        "coordinate": {
          "$ref": "#/definitions/ttsschemaCoordinate"
        },
        "render_duration": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Action基元数据"
    },
    "ttsschemaBodyMovement": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "number",
            "format": "float"
          }
        },
        "frame_size": {
          "type": "integer",
          "format": "int32"
        },
        "start_time_ms": {
          "type": "number",
          "format": "float"
        }
      },
      "title": "动作"
    },
    "ttsschemaBodyMovementConfig": {
      "type": "object",
      "properties": {
        "frame_dim": {
          "type": "integer",
          "format": "int32"
        },
        "frame_dur_ms": {
          "type": "number",
          "format": "float"
        },
        "meta_data": {
          "type": "string"
        }
      }
    },
    "ttsschemaClientVersion": {
      "type": "string",
      "enum": [
        "invalid",
        "version"
      ],
      "default": "invalid"
    },
    "ttsschemaConfigAndText": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string"
        },
        "facial_expression_config": {
          "$ref": "#/definitions/ttsschemaFacialExpressionConfig"
        },
        "body_movement_config": {
          "$ref": "#/definitions/ttsschemaBodyMovementConfig"
        }
      },
      "title": "音频流"
    },
    "ttsschemaCoordinate": {
      "type": "object",
      "properties": {
        "off": {
          "type": "integer",
          "format": "int32"
        },
        "len": {
          "type": "integer",
          "format": "int32"
        },
        "order": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "坐标信息"
    },
    "ttsschemaDebugInfo": {
      "type": "object",
      "properties": {
        "debug_type": {
          "type": "string"
        },
        "info": {
          "type": "string"
        }
      },
      "title": "调试信息"
    },
    "ttsschemaExpression": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "number",
            "format": "float"
          }
        },
        "frame_size": {
          "type": "integer",
          "format": "int32"
        },
        "start_time_ms": {
          "type": "number",
          "format": "float"
        }
      },
      "title": "表情"
    },
    "ttsschemaFacialExpressionConfig": {
      "type": "object",
      "properties": {
        "frame_dim": {
          "type": "integer",
          "format": "int32"
        },
        "frame_dur_ms": {
          "type": "number",
          "format": "float"
        },
        "meta_data": {
          "type": "string"
        }
      }
    },
    "ttsschemaGetUserSpeakersResponse": {
      "type": "object",
      "properties": {
        "speakers": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "ttsschemaMessageDigitalPerson": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "chinese_name": {
          "type": "string"
        }
      }
    },
    "ttsschemaMessageEmotion": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "chinese_name": {
          "type": "string"
        }
      }
    },
    "ttsschemaMessageExpression": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "chinese_name": {
          "type": "string"
        }
      }
    },
    "ttsschemaMessageMovement": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "chinese_name": {
          "type": "string"
        }
      }
    },
    "ttsschemaMessagePitch": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "chinese_name": {
          "type": "string"
        }
      }
    },
    "ttsschemaRegisterReq": {
      "type": "object",
      "properties": {
        "account": {
          "type": "string"
        },
        "expire": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "ttsschemaRegisterResp": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "ttsschemaRespGetTtsConfig": {
      "type": "object",
      "properties": {
        "speaker_list": {
          "$ref": "#/definitions/ttsschemaSpeakerList"
        },
        "speed_list": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "volume_list": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "pitch_list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaMessagePitch"
          }
        },
        "emotion_list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaMessageEmotion"
          }
        },
        "digital_person_list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaMessageDigitalPerson"
          }
        },
        "movement_list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaMessageMovement"
          }
        },
        "expression_list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaMessageExpression"
          }
        }
      }
    },
    "ttsschemaSpeakerList": {
      "type": "object",
      "properties": {
        "list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaSpeakerParameter"
          }
        }
      }
    },
    "ttsschemaSpeakerParameter": {
      "type": "object",
      "properties": {
        "speaker_id": {
          "type": "integer",
          "format": "int32"
        },
        "speaker_name": {
          "type": "string"
        },
        "parameter_speaker_name": {
          "type": "string"
        },
        "is_support_emotion": {
          "type": "boolean"
        },
        "is_support_mixed_voice": {
          "type": "boolean"
        }
      }
    },
    "ttsschemaSynthesizedAudio": {
      "type": "object",
      "properties": {
        "pcm": {
          "type": "string",
          "format": "byte"
        },
        "coordinate": {
          "$ref": "#/definitions/ttsschemaCoordinate"
        },
        "is_punctuation": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "音频流"
    },
    "ttsschemaTimedMouthShape": {
      "type": "object",
      "properties": {
        "duration_us": {
          "type": "string",
          "format": "uint64"
        },
        "mouth": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "ttsschemaTimedMouthShapes": {
      "type": "object",
      "properties": {
        "mouths": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ttsschemaTimedMouthShape"
          }
        },
        "start_time_ms": {
          "type": "number",
          "format": "float"
        }
      },
      "title": "口型"
    },
    "ttsschemaTtsRes": {
      "type": "object",
      "properties": {
        "error_code": {
          "type": "integer",
          "format": "int32"
        },
        "status": {
          "type": "integer",
          "format": "int32"
        },
        "error_msg": {
          "type": "string"
        },
        "synthesized_audio": {
          "$ref": "#/definitions/ttsschemaSynthesizedAudio"
        },
        "debug_info": {
          "$ref": "#/definitions/ttsschemaDebugInfo"
        },
        "action_element": {
          "$ref": "#/definitions/ttsschemaActionElement"
        },
        "config_text": {
          "$ref": "#/definitions/ttsschemaConfigAndText"
        },
        "time_mouth_shapes": {
          "$ref": "#/definitions/ttsschemaTimedMouthShapes"
        },
        "expression": {
          "$ref": "#/definitions/ttsschemaExpression"
        },
        "body_movement": {
          "$ref": "#/definitions/ttsschemaBodyMovement"
        }
      }
    },
    "ttsschemaVerVersionRsp": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        }
      }
    }
  }
}
